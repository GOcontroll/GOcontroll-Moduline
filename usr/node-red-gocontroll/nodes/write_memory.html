<script type="text/javascript">
    RED.nodes.registerType('Write-Memory',{
        category: 'GOcontroll',
        color: '#f76d11',
        defaults: {
            name: {value:""},
			key: {value:""},
			memtype: {value:"ram"},
			inputtype: {value:"object"},
			decimal: {value:"0"}
        },
        inputs:1,
        outputs:0,
        icon: "arrow-in.png",
		paletteLabel: "Write mem",
        label: function() {
			if(this.key == "")
			{
            return "Write all received key-value pairs";
			}
			else
			{
			return this.name||"Data to memory with key: "+ this.key;
			}
        },
    });
</script>


<script type="text/x-red" data-template-name="Write-Memory">

    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name" style="width:350px">
    </div>

	<div class="form-row">
        <label for="node-input-key"><i class="fa fa-id-badge"></i> Key</label>
        <input type="text" id="node-input-key" placeholder="ExampleKey" style="width:350px">
    </div>
	
	<div class="form-row">
        <label for="node-input-memtype"><i class="fa fa-hdd-o"></i> Memory</label>
        <select id="node-input-memtype" style="width:350px">
			<option value="emmc">Persistant memory (eMMC)</option>
            <option value="ram">Non-persistant memory (RAM)</option>
        </select>
    </div>
	
	<div class="form-row">
        <label for="node-input-inputtype"><i class="fa fa-list-ul"></i> Type</label>
        <select id="node-input-inputtype" style="width:350px">
			<option value="object">Input as object with key-value pair </option>
            <option value="payload">Input as numeric payload</option>
        </select>
    </div>
	
	<div class="form-row">
        <label for="node-input-decimal"><i class="fa fa-sort-numeric-asc"></i> Decimals</label>
        <select id="node-input-decimal" style="width:350px">
			<option value="0">0 decimals </option>
			<option value="1">1 decimals </option>
			<option value="2">2 decimals </option>
			<option value="3">3 decimals </option>		
			<option value="4">4 decimals </option>
        </select>
    </div>

</script>

<script type="text/x-red" data-help-name="Write-Memory">
<p>The memory blocks can be used to exchange data between a running Simulink model and Node-RED.&nbsp;</p>
<p>&nbsp;</p>
<p><strong>Function:</strong></p>
<p>The write block needs to be configured with a key value. When JSON objects are pushed into the node, it will search for the provided key. If the key is available in the JSON object, the corresponding value will be stored in memory.</p>
<p>&nbsp;</p></script>
